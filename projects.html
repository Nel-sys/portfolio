<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Projects</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <!-- Firebase SDK -->
    <script type="module">
        // Import Firebase App and Auth services
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";

        // Firebase configuration (replace with your Firebase details)
        const firebaseConfig = {
            apiKey: "AIzaSyCtqiLhJGGXhA8ABF-l9Oq-moIf4vm2OfE",
            authDomain: "secp1-4c44d.firebaseapp.com",
            projectId: "secp1-4c44d",
            storageBucket: "secp1-4c44d.firebasestorage.app",
            messagingSenderId: "794466487630",
            appId: "1:794466487630:web:5c69610931150bca74221f"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
    </script>
</head>
<body>

    <div class="password-container">
        <h2>Enter Password to Access My Projects</h2>
        <input type="email" id="email" placeholder="Enter Email">
        <input type="password" id="password" placeholder="Enter Password">
        <button onclick="checkPassword()">Submit</button>
    </div>

    <div id="projects-content" style="display: none;">
        <h3>My Projects</h3>
        <p>Here are some of the tech and marketing projects I've worked on...</p>
    </div>

    <!-- Add your custom script to check the password and authenticate -->
    <script type="module">
      // Ensure this function is loaded correctly
      function checkPassword() {
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;

          signInWithEmailAndPassword(auth, email, password)
              .then((userCredential) => {
                  const user = userCredential.user;
                  console.log("Logged in as:", user.email);
                  document.getElementById('projects-content').style.display = "block";
                  document.querySelector('.password-container').style.display = "none";
              })
              .catch((error) => {
                  const errorCode = error.code;
                  const errorMessage = error.message;
                  console.log("Error Code:", errorCode); // Log error code
                  console.log("Error Message:", errorMessage); // Log error message

                  alert("Incorrect login. Please try again.");
              });
      }
    </script>

</body>
</html>
